{"version":3,"sources":["App.module.css","Components/Background/Background.module.css","Components/Header/Header.module.css","Components/Chat/Chat.module.css","Components/Background/Background.js","Components/Header/Header.js","redux/messages-reducer.js","Components/Footer/Footer.js","redux/users-reducer.js","Components/Modal/Modal.js","Components/Chat/Message/Message.js","Components/Chat/Chat.js","App.js","redux/store.js","index.js","Components/Chat/Message/Message.module.css","Components/Footer/Footer.module.css"],"names":["module","exports","Background","children","Box","className","s","container","Header","color","fontSize","onClick","Error","ADD_MESSAGE","INITIALIZE_MESSAGES","LOAD_MORE_MESSAGES","initialState","messagesList","addMessageThunkCreator","user","message","dispatch","getState","messagesInfo","expandedMessagesList","localStorage","setItem","JSON","stringify","type","payload","addMessage","usersReducer","state","action","messages","Footer","useDispatch","currentUser","useSelector","usersInfo","useState","setMessage","TextField","onChange","e","target","value","fullWidth","placeholder","variant","IconButton","sendIcon","style","ADD_USER","Modal","open","setIsDialogOpened","username","setUsername","Dialog","DialogTitle","DialogContent","dividers","DialogActions","Button","userName","sessionStorage","Message","ownMessageBody","anotherMessageBody","messageText","Chat","initializeMessages","useEffect","window","addEventListener","removeEventListener","map","item","connect","parse","getItem","getCurrentUser","isDialogOpened","reducers","combineReducers","messagesReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Sentry","dsn","integrations","BrowserTracing","tracesSampleRate","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d15a3cd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3Qxbl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Background_container__3t8Hr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Header_container__2DZh4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Chat_container__3QsnG\"};","import s from './Background.module.css'\r\nimport {Box} from \"@mui/material\";\r\n\r\nfunction Background( {children} ) {\r\n\r\n    return (\r\n        <Box className={s.container}>\r\n            {children}\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default Background;","import s from './Header.module.css'\r\nimport {Box} from \"@mui/material\";\r\nimport ForumRoundedIcon from '@mui/icons-material/ForumRounded';\r\n\r\nfunction Header() {\r\n\r\n    return (\r\n        <Box className={s.container}>\r\n            <ForumRoundedIcon color=\"primary\" fontSize={'medium'} onClick={() => {\r\n                throw new Error('Oh no!')\r\n            }}/>\r\n            <h1>Web Chat</h1>\r\n        </Box>\r\n\r\n    );\r\n}\r\n\r\nexport default Header;","const ADD_MESSAGE = 'ADD_MESSAGE';\r\nconst INITIALIZE_MESSAGES = 'INITIALIZE_MESSAGES';\r\nconst LOAD_MORE_MESSAGES = 'LOAD_MORE_MESSAGES';\r\n\r\nlet initialState = {\r\n    messagesList: [\r\n    ]\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messagesList: [...state.messagesList,\r\n                    {\r\n                        user: action.payload.user,\r\n                        message: action.payload.message\r\n                    }\r\n                ]\r\n            }\r\n        case INITIALIZE_MESSAGES:\r\n            return {\r\n                ...state,\r\n                messagesList: action.payload\r\n            }\r\n        case LOAD_MORE_MESSAGES:\r\n            return {\r\n                ...state,\r\n                messages: []\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessage = (user, message) => {\r\n\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        payload: {user, message}\r\n    }\r\n}\r\n\r\nexport const initializeMessages = () => {\r\n\r\n    const messagesList = JSON.parse(localStorage.getItem('messagesList')) || [];\r\n\r\n    return {\r\n        type: INITIALIZE_MESSAGES,\r\n        payload: messagesList\r\n    }\r\n}\r\n\r\nexport const addMessageThunkCreator = (user, message) =>\r\n    (dispatch, getState) => {\r\n\r\n        const messagesList = getState().messagesInfo.messagesList;\r\n\r\n        const expandedMessagesList = [...messagesList,\r\n            {\r\n                user: user,\r\n                message: message\r\n            }\r\n        ];\r\n\r\n        localStorage.setItem('messagesList', JSON.stringify(expandedMessagesList));\r\n\r\n        dispatch(addMessage(user, message))\r\n    }\r\n\r\nexport default usersReducer;","import s from './Footer.module.css'\r\nimport {Box, IconButton, TextField} from \"@mui/material\";\r\nimport SendRoundedIcon from '@mui/icons-material/SendRounded';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {addMessageThunkCreator} from \"../../redux/messages-reducer\";\r\nimport {useState} from \"react\";\r\n\r\nfunction Footer() {\r\n\r\n    const dispatch = useDispatch();\r\n    const currentUser = useSelector(state => state.usersInfo.currentUser);\r\n\r\n    const [message, setMessage] = useState('');\r\n\r\n    return (\r\n        <Box className={s.container}>\r\n            <TextField onChange={(e) => setMessage(e.target.value)} fullWidth placeholder={'Type a message...'} variant=\"outlined\"/>\r\n            <IconButton color={'primary'} onClick={() => dispatch(addMessageThunkCreator(currentUser, message))}>\r\n                <SendRoundedIcon className={s.sendIcon} style={{fontSize: '30px'}}/>\r\n            </IconButton>\r\n        </Box>\r\n\r\n    );\r\n}\r\n\r\nexport default Footer;","const ADD_USER = 'ADD_USER';\r\n\r\nlet initialState = {\r\n    currentUser: null,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addNewUser = (userName) => {\r\n\r\n    sessionStorage.setItem('currentUser', userName);\r\n\r\n    return {\r\n        type: ADD_USER,\r\n        payload: userName\r\n    }\r\n}\r\n\r\nexport const getCurrentUser = () => {\r\n\r\n    const currentUser = sessionStorage.getItem('currentUser') || null;\r\n\r\n    return {\r\n        type: ADD_USER,\r\n        payload: currentUser\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport {TextField} from \"@mui/material\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useState} from \"react\";\r\nimport {addNewUser} from \"../../redux/users-reducer\";\r\n\r\nconst Modal = ( {open, setIsDialogOpened} ) => {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <Dialog open={open}>\r\n            <DialogTitle>Please, Enter Username</DialogTitle>\r\n            <DialogContent dividers>\r\n                <TextField onChange={(e) => setUsername(e.target.value)} variant=\"outlined\"/>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => {\r\n                    setIsDialogOpened(false)\r\n                    dispatch(addNewUser(username))\r\n                }}>Save</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nexport default Modal;","import s from './Message.module.css'\r\nimport {Box} from \"@mui/material\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst Message = ({username, message}) => {\r\n\r\n    const currentUser = useSelector(state => state.usersInfo.currentUser);\r\n\r\n    return (\r\n        <Box className={s.container}>\r\n            <Box className={username === currentUser ? `${s.ownMessageBody}` : `${s.anotherMessageBody}`}>\r\n                <p className={s.messageText}>{message}</p>\r\n            </Box>\r\n            <p className={s.username}>{username}</p>\r\n        </Box>\r\n\r\n    );\r\n}\r\n\r\nexport default Message;","import s from './Chat.module.css'\r\nimport {Box} from \"@mui/material\";\r\nimport {useSelector} from \"react-redux\";\r\nimport Message from \"./Message/Message\";\r\nimport {useEffect} from \"react\";\r\n\r\nfunction Chat({initializeMessages}) {\r\n\r\n    const messagesList = useSelector(state => state.messagesInfo.messagesList);\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('storage', () => {\r\n            initializeMessages()\r\n        });\r\n        return () => {\r\n            window.removeEventListener('storage', () => {\r\n                initializeMessages()\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <Box className={s.container}>\r\n            {messagesList.map((item) => {\r\n                return <Message username={item.user} message={item.message}/>\r\n            })}\r\n        </Box>\r\n\r\n    );\r\n}\r\n\r\nexport default Chat;","import s from './App.module.css'\nimport Background from \"./Components/Background/Background\";\nimport {Box} from \"@mui/material\";\nimport Header from \"./Components/Header/Header\";\nimport Footer from \"./Components/Footer/Footer\";\nimport {useEffect, useState} from \"react\";\nimport Modal from \"./Components/Modal/Modal\";\nimport {connect} from \"react-redux\";\nimport {getCurrentUser} from \"./redux/users-reducer\";\nimport Chat from \"./Components/Chat/Chat\";\nimport {initializeMessages} from \"./redux/messages-reducer\";\n\nfunction App({currentUser, getCurrentUser, initializeMessages}) {\n\n    const [isDialogOpened, setIsDialogOpened] = useState(false);\n\n    useEffect(() => {\n        getCurrentUser()\n        initializeMessages()\n        setIsDialogOpened(!currentUser)\n\n    }, [currentUser, getCurrentUser, initializeMessages])\n\n    return (\n        <Box className={s.container}>\n            <Background>\n                <Header/>\n                <Modal open={isDialogOpened} setIsDialogOpened={setIsDialogOpened}/>\n                <Chat initializeMessages={initializeMessages}/>\n                <Footer/>\n            </Background>\n        </Box>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        currentUser: state.usersInfo.currentUser\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        initializeMessages: () => {\n            let action = initializeMessages();\n            dispatch(action);\n        },\n        getCurrentUser: () => {\n            let action = getCurrentUser();\n            dispatch(action);\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import {combineReducers, createStore, compose, applyMiddleware} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport usersReducer from \"./users-reducer\";\r\nimport messagesReducer from \"./messages-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    usersInfo: usersReducer,\r\n    messagesInfo: messagesReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport * as Sentry from \"@sentry/react\";\nimport { BrowserTracing } from \"@sentry/tracing\";\nimport store from './redux/store'\n\nSentry.init({\n    dsn: \"https://ff793a6930cc4f28b7a7b7dc81bd2933@o1212986.ingest.sentry.io/6351600\",\n    integrations: [new BrowserTracing()],\n\n    // Set tracesSampleRate to 1.0 to capture 100%\n    // of transactions for performance monitoring.\n    // We recommend adjusting this value in production\n    tracesSampleRate: 1.0,\n});\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Message_container__3QY56\",\"messageText\":\"Message_messageText__1-4DW\",\"ownMessageBody\":\"Message_ownMessageBody__1lQW_\",\"anotherMessageBody\":\"Message_anotherMessageBody__2-02l\",\"username\":\"Message_username__1bfxo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Footer_container__37cvy\"};"],"sourceRoot":""}